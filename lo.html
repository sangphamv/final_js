<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chọn video</title>
    <style>
        #video-player {
            width: 640px;
            height: 360px;
        }
    </style>
</head>

<body>
    <h1>Chọn video</h1>
    <select id="video-select"></select>

    <video autoplay muted loop id="video-player" controls></video>

    <script>
        const videoSelect = document.getElementById('video-select');
        const videoPlayer = document.getElementById('video-player');

        const videoData = [  // Array containing video information (no need for external JSON)
            {
                id: "video1",
                title: "Video 1",
                url: "./assets/video/doraemon.mp4",
            },
            {
                id: "video2",
                title: "Video 2",
                url: "./assets/video/onepiece.mp4", // Corrected file extension
            },
            {
                id: "video2",
                title: "Video 2",
                url: "./assets/video/doraemon.mp4", // Corrected file extension
            },
        ];

        // Populate select options with video data
        videoData.forEach(video => {
            const option = document.createElement('option');
            option.value = video.id;
            option.textContent = video.title;
            videoSelect.appendChild(option);
        });

        videoSelect.addEventListener('change', () => {
            const selectedVideoId = videoSelect.value;
            const selectedVideo = videoData.find(video => video.id === selectedVideoId);

            if (selectedVideo) { // Handle potential "no video found" scenario
                videoPlayer.src = selectedVideo.url;
                videoPlayer.load(); // Ensure video reloads properly (avoid potential playback issues)
            } else {
                console.warn("Video not found:", selectedVideoId); // Log a warning for debugging
            }
        });
    </script>
</body>

</html>